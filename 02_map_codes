# Get Military Data from World Bank
from operator import index
import pandas as pd
import wbgapi as wb

# Info about the available data
help(wb)
wb.source.info()
all_series = wb.series.info()
print(all_series)

# Find World Bank codes of interest
wb.series.info(q='military')
wb.series.info(q='arm')

# Create a dictionary for mapping purposes later
tmp_dict = {
    'wb_series_code': ['MS.MIL.XPND.CD', 'MS.MIL.XPND.GD.ZS', 'MS.MIL.XPND.ZS',
                       'MS.MIL.MPRT.KD', 'MS.MIL.XPRT.KD', 'MS.MIL.TOTL.P1', 'MS.MIL.TOTL.TF.ZS'],
    'wb_series_name': ['Military expenditure (current USD)','Military expenditure (% of GDP)', 
                       'Military expenditure (% of general government expenditure)',
                       'Arms imports (SIPRI trend indicator values)', 'Arms exports (SIPRI trend indicator values)',
                       'Armed forces personnel, total', 'Armed forces personnel (% of total labor force)'],
    'wb_indicator':   ['milex_usd', 'milex_pct_gdp', 'milex_pct_gov_exp',
                       'arms_imports', 'arms_exports', 'armed_forces_total', 'armed_forces_pct_labour']    
        }
type(tmp_dict)

# Convert dictionary into a dataframe for easier mapping
map_codes = pd.DataFrame(tmp_dict)
map_codes.head()
list(map_codes['wb_series_code'])
list(map_codes['wb_indicator'])

# Remove temp_dict from memory
del tmp_dict

# Write to csv
map_codes.to_csv('wb_data/map_codes.csv')